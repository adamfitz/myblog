<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>OSPF Virtual Links &middot; Adam Fitzgerald</title>
        <meta name="description" content="OSPF Virtual Links The overall concept of an OSPF virtual link is simple, a virtual connection from one area to join it to the backbone through another area, when no physical connection to the backbone area exists.
The configuration could be a little confusing, essentially you want to create a link between the router in the partitioned area (area without the physical connection) and the router within the transit area (connected to the backbone area).">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="generator" content="Hugo 0.124.1">
        <meta name="robots" content="index,follow">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta property="og:title" content="OSPF Virtual Links">
<meta property="og:description" content="OSPF Virtual Links The overall concept of an OSPF virtual link is simple, a virtual connection from one area to join it to the backbone through another area, when no physical connection to the backbone area exists.
The configuration could be a little confusing, essentially you want to create a link between the router in the partitioned area (area without the physical connection) and the router within the transit area (connected to the backbone area).">
<meta property="og:type" content="article">
<meta property="og:url" content="//networknoob.net/2023/03/26/ospf_virtual_links/">
        <link rel="stylesheet" href="//networknoob.net/dist/site.css">
        <link rel="stylesheet" href="//networknoob.net/dist/syntax.css">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,400,600,700,300&subset=latin,cyrillic-ext,latin-ext,cyrillic">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
        
        
        
        
        

    </head>
    <body>
        

        <div id="wrapper">
            <header class="site-header">
                <div class="container">
                    <div class="site-title-wrapper">
                        
                            <h1 class="site-title">
                                <a href="//networknoob.net/">Networknoob</a>
                            </h1>
                        
                        
                            <a class="button-square" href="//networknoob.net/index.xml" aria-label="RSS"><i class="fa fa-rss" aria-hidden="true"></i></a>
                        
                        
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Github" aria-label="Github" href="https://github.com/adamfitz" rel="me">
                                <i class="fa fa-github-alt" aria-hidden="true"></i>
                            </a>
                        
                        
                        
                            <a class="button-square button-social hint--top" data-hint="LinkedIn" aria-label="LinkedIn" href="https://www.linkedin.com/in/adam-fitzgerald-89247445/" rel="me">
                                <i class="fa fa-linkedin" aria-hidden="true"></i>
                            </a>
                        
                        
                            <a class="button-square button-social hint--top" data-hint="Email" aria-label="Send an Email" href="mailto:adam@networknoob.net">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                            </a>
                        
                    </div>

                    <ul class="site-nav">
                        
    <li class="site-nav-item">
        <a href="/post">blogs</a>
    </li>

    <li class="site-nav-item">
        <a href="/projects/">projects</a>
    </li>

    <li class="site-nav-item">
        <a href="/page/contact/">contact</a>
    </li>

    <li class="site-nav-item">
        <a href="/page/about/">about</a>
    </li>

    <li class="site-nav-item">
        <a href="/tags">tags</a>
    </li>


                    </ul>
                </div>
            </header>

            <div id="container">


<div class="container">
    <article class="post-container" itemscope="" itemtype="http://schema.org/BlogPosting">
        <header class="post-header">
    <h1 class="post-title" itemprop="name headline">OSPF Virtual Links</h1>
    
    <p class="post-date">
        <span>Published <time datetime="2023-03-26" itemprop="datePublished">Sun, Mar 26, 2023</time></span>
        <span>by</span>
        <span itemscope="" itemprop="author" itemtype="https://schema.org/Person">
            <span itemprop="name">
                <a href="#" itemprop="url" rel="author">fitzi</a>
            </span>
        </span>
    </p>
    
        <p class="post-reading post-line">
            <span>Estimated reading time: 2 min</span>
        </p>
    
</header>

        <div class="post-content clearfix" itemprop="articleBody">
    

    <h1 id="ospf-virtual-links">OSPF Virtual Links</h1>
<p>The overall concept of an OSPF virtual link is simple, a virtual connection from one area
to join it to the backbone through another area, when no physical connection to the backbone area exists.</p>
<p>The configuration could be a little confusing, essentially you want to create a link between the router in the
partitioned area (area without the physical connection) and the router within the transit area (connected to the
backbone area).  The command must be executed on both routers in order to bring up the virtual link.</p>
<p>Example topology below, R3 in Area 3 has no direct physical connection to the backbone area 0:</p>
<p><img src="/images/ospf_virtual_links_topology.png" alt="basic lab topology"></p>
<p>To create a virtual link, the command must be performed on both the ABR of the partitioned area (R3) that is
connected to the transit area and also the ABR of the transit area (R2) which connects to the partitioned area 3
and also the backbone area.</p>
<p>On R3 specify the target as the router ID of R2:</p>
<pre tabindex="0"><code># area 2 virtual-link 2.2.2.2
</code></pre><p><img src="/images/ospf_virtual_links_R3_config.png" alt="virtual link router config"></p>
<p>On R2 specify the target as the router ID of R3:</p>
<pre tabindex="0"><code># area 2 virtual-link 3.3.3.3
</code></pre><p><img src="/images/ospf_virtual_links_R2_config.png" alt="virtual link router config"></p>
<p>The virtual interface (virtual link) can now be seen on both R2 and R3:</p>
<p>R2 OSPF Interfaces:</p>
<p><img src="/images/ospf_virtual_links_R2_ospf_int_br.png" alt="virtual link interface brief"></p>
<p>R3 OSPF Interfaces:</p>
<p><img src="/images/ospf_virtual_links_R3_ospf_int_br.png" alt="virtual link interface brief"></p>
<p>Once the ospf virtual link is in place, R1 (who was not receiving a route for 3.3.3.3 previously) now
receives a route to loopback0 interface of R3 (3.3.3.3) and this route is seen as an Inter-area route:</p>
<p><img src="/images/ospf_virtual_links_R1_route_table.png" alt="virtual link interface brief"></p>
<p>In general this approach should not be considered a design tool, but instead used a tool to repair a network
partition.</p>

</div>

        <footer class="post-footer clearfix">
        <p class="post-tags">
            <span>Tagged:</span>
                <a href="/tags/ospf/">ospf</a>, 
                <a href="/tags/virtual-links/">virtual links</a>, 
                <a href="/tags/spcor/">spcor</a>
        </p>
    <div class="share">
    </div>
</footer>

        
    <div class="comments">
        
    </div>

    </article>
</div>

            </div>
        </div>

        <footer class="footer">
            <div class="container">
                <div class="site-title-wrapper">
                    <h1 class="site-title">
                        <a href="//networknoob.net/">Networknoob</a>
                    </h1>
                    <a class="button-square button-jump-top js-jump-top" href="#" aria-label="Back to Top">
                        <i class="fa fa-angle-up" aria-hidden="true"></i>
                    </a>
                </div>

                <p class="footer-copyright">
                    <span>&copy; 2024 / Powered by <a href="https://gohugo.io/">Hugo</a></span>
                </p>
                <p class="footer-copyright">
                    <span><a href="https://github.com/roryg/ghostwriter">Ghostwriter theme</a> By <a href="http://jollygoodthemes.com">JollyGoodThemes</a></span>
                    <span>/ <a href="https://github.com/jbub/ghostwriter">Ported</a> to Hugo By <a href="https://github.com/jbub">jbub</a></span>
                </p>
            </div>
        </footer>

        <script src="//networknoob.net/js/jquery-1.11.3.min.js"></script>
        <script src="//networknoob.net/js/jquery.fitvids.js"></script>
        <script src="//networknoob.net/js/scripts.js"></script>
        
    </body>
</html>

