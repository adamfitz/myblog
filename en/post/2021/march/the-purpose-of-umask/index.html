

<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="robots" content="index, follow">
<meta name="revisit-after" content="15 days">
<link rel="author" href="/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileImage" content="/mstile-144x144.png">
<link rel="shortcut icon" href="/favicon.ico">
<meta name="theme-color" content="#494f5c">
<meta name="msapplication-TileColor" content="#494f5c">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#494f5c"><meta name="author" content="fitzi"><meta name="description" content="A journey to networking expertiseâ€¦one noobie step at a time.">
<meta itemprop="name" content="the purpose of umask">
<meta itemprop="description" content="When defining default permission for files (0666) and directories (0777) linux has a default set of permissions for each as noted. However if you as a user create a file or directory you will notice that the permissions are not in fact 0666 for a file or 0777 for a directory this is seen below:
# test file with permissions 0664 $ touch test_file $ ls -l test_file -rw-rw-r--. 1 user1 user1 0 Mar 15 06:19 test_file # test dir with permissions 0775 $ mkdir test_dir $ ls -l | grep test_dir drwxrwxr-x."><meta itemprop="datePublished" content="2021-03-15T00:00:00+00:00" />
<meta itemprop="dateModified" content="2022-04-12T21:30:27+10:00" />
<meta itemprop="wordCount" content="324">
<meta itemprop="keywords" content="umask,linux," /><meta property="og:title" content="the purpose of umask" />
<meta property="og:description" content="When defining default permission for files (0666) and directories (0777) linux has a default set of permissions for each as noted. However if you as a user create a file or directory you will notice that the permissions are not in fact 0666 for a file or 0777 for a directory this is seen below:
# test file with permissions 0664 $ touch test_file $ ls -l test_file -rw-rw-r--. 1 user1 user1 0 Mar 15 06:19 test_file # test dir with permissions 0775 $ mkdir test_dir $ ls -l | grep test_dir drwxrwxr-x." />
<meta property="og:type" content="article" />
<meta property="og:url" content="//networknoob.net/en/post/2021/march/the-purpose-of-umask/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2021-03-15T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-04-12T21:30:27+10:00" />
<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="the purpose of umask"/>
<meta name="twitter:description" content="When defining default permission for files (0666) and directories (0777) linux has a default set of permissions for each as noted. However if you as a user create a file or directory you will notice that the permissions are not in fact 0666 for a file or 0777 for a directory this is seen below:
# test file with permissions 0664 $ touch test_file $ ls -l test_file -rw-rw-r--. 1 user1 user1 0 Mar 15 06:19 test_file # test dir with permissions 0775 $ mkdir test_dir $ ls -l | grep test_dir drwxrwxr-x."/>
<title>the purpose of umask</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" href="//networknoob.net/css/style.min.dc329fb01e9bbc0b9e252a7bc619c25eaf0d9741bf67519fd274e874e7e450bd.css" integrity="sha256-3DKfsB6bvAueJSp7xhnCXq8Nl0G/Z1Gf0nTodOfkUL0=" crossorigin="anonymous">
	</head>
<body id="page">
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="//networknoob.net/">Networknoob</a>
				</div>
				<nav class="site-nav hide-in-mobile"><a href="//networknoob.net/en/page/about">About</a><a href="//networknoob.net/en/post/">Blogs</a><a href="//networknoob.net/en/projects">Projects</a><a href="//networknoob.net/en/page/contact">Contact</a><a href="//networknoob.net/en/tags">tags</a></nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://github.com/adamfitz" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="mailto:adam@networknoob.net" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://www.linkedin.com/in/adam-fitzgerald-89247445/" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://www.networknoob.net/index.xml" target="_blank" rel="noopener me" title="Rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span><button id="share-btn" class="hdr-btn" title="Share"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg></button>
 
<div id="share-links" class="animated fast">
    
    
    
    
    <ul>
        <li>
            <a href="https://twitter.com/intent/tweet?hashtags=hermit2&amp;url=%2f%2fnetworknoob.net%2fen%2fpost%2f2021%2fmarch%2fthe-purpose-of-umask%2f&amp;text=the%20purpose%20of%20umask" target="_blank" rel="noopener" aria-label="Share on X"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path class="st0" d="m21.3 21.1 -11.4 -18.2h-7.2l11.4 18.2zm-18.6 0 7.2 -6.6m4.2 -5 7.2 -6.6"/></svg></a>
        </li>
        <li>
            <a href="https://facebook.com/sharer/sharer.php?u=%2f%2fnetworknoob.net%2fen%2fpost%2f2021%2fmarch%2fthe-purpose-of-umask%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
        </li>
        <li>
            <a href="mailto:?subject=the%20purpose%20of%20umask&amp;body=%2f%2fnetworknoob.net%2fen%2fpost%2f2021%2fmarch%2fthe-purpose-of-umask%2f" target="_self" rel="noopener" aria-label="Share on Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
        </li>
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f%2fnetworknoob.net%2fen%2fpost%2f2021%2fmarch%2fthe-purpose-of-umask%2f&amp;source=%2f%2fnetworknoob.net%2f&amp;title=the%20purpose%20of%20umask&amp;summary=the%20purpose%20of%20umask%2c%20by%20fitzi%0a%0a%3cnil%3e%0a" target="_blank" rel="noopener" aria-label="Share on LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
        </li>
        <li>
            <a href="#" onclick="linkShare(&#34;the purpose of umask&#34;,&#34;//networknoob.net/en/post/2021/march/the-purpose-of-umask/&#34;,&#34;the purpose of umask, by fitzi\n\n\u003cnil\u003e\n&#34;); return false;" target="_self" rel="noopener" aria-label="Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></a>
        </li>
    </ul>
</div><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="//networknoob.net/en/page/about">About</a></li>
			<li><a href="//networknoob.net/en/post/">Blogs</a></li>
			<li><a href="//networknoob.net/en/projects">Projects</a></li>
			<li><a href="//networknoob.net/en/page/contact">Contact</a></li>
			<li><a href="//networknoob.net/en/tags">tags</a></li>
		</ul>
	</div>


	<main class="site-main section-inner thin animated fadeIn faster">
		<h1>the purpose of umask</h1>
		<div class="content">
			<p>When defining default permission for files (0666) and directories (0777) linux has a default set of permissions for each as noted. However if you as a user create a file or directory you will notice that the permissions are not in fact 0666 for a file or 0777 for a directory this is seen below:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># test file with permissions 0664</span>
</span></span><span class="line"><span class="cl">$ touch test_file
</span></span><span class="line"><span class="cl">$ ls -l test_file
</span></span><span class="line"><span class="cl">-rw-rw-r--. <span class="m">1</span> user1 user1 <span class="m">0</span> Mar <span class="m">15</span> 06:19 test_file
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># test dir with permissions 0775</span>
</span></span><span class="line"><span class="cl">$ mkdir test_dir
</span></span><span class="line"><span class="cl">$ ls -l <span class="p">|</span> grep test_dir
</span></span><span class="line"><span class="cl">drwxrwxr-x.   <span class="m">2</span> user1 user1       <span class="m">6</span> Mar <span class="m">15</span> 06:19 test_dir
</span></span></code></pre></div><p>The reason for this is because it is noted that linux permissions are too permissive. In this case the umask command is used to modify permissions when a file or directory is created.</p>
<p>The way this is determined is by subtracting the umask value from the default permissions, in this example 0666 for files which hen determines the permission value for the file eg:</p>
<p>The default permissions for a file created by a normal user is 0666 minus 0002 equalling 0664</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># default umask value</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">umask</span>
</span></span><span class="line"><span class="cl"><span class="m">0002</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># create a test file</span>
</span></span><span class="line"><span class="cl">$ touch test_umask_file
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># verify the final permissions</span>
</span></span><span class="line"><span class="cl">$ stat test_umask_file 
</span></span><span class="line"><span class="cl">  File: test_umask_file
</span></span><span class="line"><span class="cl">  Size: <span class="m">0</span>         	Blocks: <span class="m">0</span>          IO Block: <span class="m">4096</span>   regular empty file
</span></span><span class="line"><span class="cl">Device: fd00h/64768d	Inode: <span class="m">38087484</span>    Links: <span class="m">1</span>
</span></span><span class="line"><span class="cl">Access: <span class="o">(</span>0664/-rw-rw-r--<span class="o">)</span>  Uid: <span class="o">(</span> 1000/   user1<span class="o">)</span>   Gid: <span class="o">(</span> 1000/   user1<span class="o">)</span>
</span></span><span class="line"><span class="cl">Context: unconfined_u:object_r:user_home_t:s0
</span></span><span class="line"><span class="cl">Access: 2021-03-15 05:40:17.460682658 -0400
</span></span><span class="line"><span class="cl">Modify: 2021-03-15 05:40:17.460682658 -0400
</span></span><span class="line"><span class="cl">Change: 2021-03-15 05:40:17.460682658 -0400
</span></span><span class="line"><span class="cl"> Birth: -
</span></span><span class="line"><span class="cl">$
</span></span></code></pre></div><p>The default umask value for normal users is 0002 and the default umask for root users is 0022. The default value can be changed by simply using the umask command for example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ <span class="nb">umask</span> <span class="m">0003</span>
</span></span><span class="line"><span class="cl">$ <span class="nb">umask</span>
</span></span><span class="line"><span class="cl"><span class="m">0003</span>
</span></span></code></pre></div><p>In order to persist the changes the new umask value must be added to the user profile eg: the .bashrc adding the following line (or whatever value you wish or can change this to):</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="nb">umask</span> <span class="m">0003</span>
</span></span></code></pre></div>
		</div>
	</main>

<footer id="site-footer" class="section-inner thin animated fadeIn faster">
	<p>
		&copy; 2024 <a href="//networknoob.net/"></a>
		&#183; Adam Fitzgerald
		&#183; Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>
		&#183; Theme <a href="https://github.com/1bl4z3r/hermit-V2" target="_blank" rel="noopener">Hermit-V2</a>
		
		&#183; <a href="//networknoob.net/en/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		
	</p>

</footer>
<script async src="//networknoob.net/js/bundle.min.c7c384e4d29d192bbac6811ae4660bb01767194a5bea56baca77e8260f93ea16.js" integrity="sha256-x8OE5NKdGSu6xoEa5GYLsBdnGUpb6la6ynfoJg+T6hY=" crossorigin="anonymous"></script><script async src="//networknoob.net/js/link-share.min.24409a4f6e5537d70ffc55ec8f9192208d718678cb8638585342423020b37f39.js" integrity="sha256-JECaT25VN9cP/FXsj5GSII1xhnjLhjhYU0JCMCCzfzk=" crossorigin="anonymous"></script>
</body>

</html>
