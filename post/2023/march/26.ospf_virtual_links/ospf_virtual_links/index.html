

<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="robots" content="index, follow">
<meta name="revisit-after" content="15 days">
<link rel="author" href="/networknoob.net/humans.txt">
<link rel="apple-touch-icon" sizes="180x180" href="/networknoob.net/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/networknoob.net/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/networknoob.net/favicon-16x16.png">
<link rel="manifest" href="/networknoob.net/site.webmanifest">
<meta name="msapplication-TileImage" content="/networknoob.net/mstile-144x144.png">
<link rel="shortcut icon" href="/networknoob.net/favicon.ico">
<meta name="theme-color" content="#494f5c">
<meta name="msapplication-TileColor" content="#494f5c">
<link rel="mask-icon" href="/networknoob.net/safari-pinned-tab.svg" color="#494f5c"><meta name="author" content="fitzi"><meta name="description" content="A journey to networking expertiseâ€¦one noobie step at a time.">
<meta itemprop="name" content="OSPF Virtual Links">
<meta itemprop="description" content="The overall concept of an OSPF virtual link is simple, a virtual connection from one area to join it to the backbone through another area, when no physical connection to the backbone area exists.
The configuration could be a little confusing, essentially you want to create a link between the router in the partitioned area (area without the physical connection) and the router within the transit area (connected to the backbone area)."><meta itemprop="datePublished" content="2023-03-26T00:00:00+00:00" />
<meta itemprop="dateModified" content="2024-03-30T14:48:19+11:00" />
<meta itemprop="wordCount" content="262">
<meta itemprop="keywords" content="ospf,virtual links,spcor," /><meta property="og:title" content="OSPF Virtual Links" />
<meta property="og:description" content="The overall concept of an OSPF virtual link is simple, a virtual connection from one area to join it to the backbone through another area, when no physical connection to the backbone area exists.
The configuration could be a little confusing, essentially you want to create a link between the router in the partitioned area (area without the physical connection) and the router within the transit area (connected to the backbone area)." />
<meta property="og:type" content="article" />
<meta property="og:url" content="/networknoob.net/post/2023/march/26.ospf_virtual_links/ospf_virtual_links/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-03-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-03-30T14:48:19+11:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="OSPF Virtual Links"/>
<meta name="twitter:description" content="The overall concept of an OSPF virtual link is simple, a virtual connection from one area to join it to the backbone through another area, when no physical connection to the backbone area exists.
The configuration could be a little confusing, essentially you want to create a link between the router in the partitioned area (area without the physical connection) and the router within the transit area (connected to the backbone area)."/>
<title>OSPF Virtual Links</title>
<link rel="stylesheet dns-prefetch preconnect preload prefetch" as="style" href="/networknoob.net/css/style.min.dc329fb01e9bbc0b9e252a7bc619c25eaf0d9741bf67519fd274e874e7e450bd.css" integrity="sha256-3DKfsB6bvAueJSp7xhnCXq8Nl0G/Z1Gf0nTodOfkUL0=" crossorigin="anonymous">
	</head>
<body id="page">
	<header id="site-header" class="animated slideInUp">
		<div class="hdr-wrapper section-inner">
			<div class="hdr-left">
				<div class="site-branding">
					<a href="/networknoob.net/">Networknoob</a>
				</div>
				<nav class="site-nav hide-in-mobile"><a href="/networknoob.net/page/about">About</a><a href="/networknoob.net/post/">Blogs</a><a href="/networknoob.net/projects">Projects</a><a href="/networknoob.net/page/contact">Contact</a><a href="/networknoob.net/tags">tags</a></nav>
			</div>
			<div class="hdr-right hdr-icons">
				<span class="hdr-social hide-in-mobile"><a href="https://github.com/adamfitz" target="_blank" rel="noopener me" title="Github"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a><a href="mailto:adam@networknoob.net" target="_blank" rel="noopener me" title="Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a><a href="https://www.linkedin.com/in/adam-fitzgerald-89247445/" target="_blank" rel="noopener me" title="Linkedin"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="https://www.networknoob.net/index.xml" target="_blank" rel="noopener me" title="Rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span><button id="share-btn" class="hdr-btn" title="Share"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-share-2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg></button>
 
<div id="share-links" class="animated fast">
    
    
    
    
    <ul>
        <li>
            <a href="https://twitter.com/intent/tweet?hashtags=hermit2&amp;url=%2fnetworknoob.net%2fpost%2f2023%2fmarch%2f26.ospf_virtual_links%2fospf_virtual_links%2f&amp;text=OSPF%20Virtual%20Links" target="_blank" rel="noopener" aria-label="Share on X"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path class="st0" d="m21.3 21.1 -11.4 -18.2h-7.2l11.4 18.2zm-18.6 0 7.2 -6.6m4.2 -5 7.2 -6.6"/></svg></a>
        </li>
        <li>
            <a href="https://facebook.com/sharer/sharer.php?u=%2fnetworknoob.net%2fpost%2f2023%2fmarch%2f26.ospf_virtual_links%2fospf_virtual_links%2f" target="_blank" rel="noopener" aria-label="Share on Facebook"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
        </li>
        <li>
            <a href="mailto:?subject=OSPF%20Virtual%20Links&amp;body=%2fnetworknoob.net%2fpost%2f2023%2fmarch%2f26.ospf_virtual_links%2fospf_virtual_links%2f" target="_self" rel="noopener" aria-label="Share on Email"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg></a>
        </li>
        <li>
            <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fnetworknoob.net%2fpost%2f2023%2fmarch%2f26.ospf_virtual_links%2fospf_virtual_links%2f&amp;source=/networknoob.net/&amp;title=OSPF%20Virtual%20Links&amp;summary=OSPF%20Virtual%20Links%2c%20by%20fitzi%0a%0a%3cnil%3e%0a" target="_blank" rel="noopener" aria-label="Share on LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" class="feather" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg></a>
        </li>
        <li>
            <a href="#" onclick="linkShare(&#34;OSPF Virtual Links&#34;,&#34;/networknoob.net/post/2023/march/26.ospf_virtual_links/ospf_virtual_links/&#34;,&#34;OSPF Virtual Links, by fitzi\n\n\u003cnil\u003e\n&#34;); return false;" target="_self" rel="noopener" aria-label="Copy Link"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-copy"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg></a>
        </li>
    </ul>
</div><button id="menu-btn" class="hdr-btn" title="Menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button>
			</div>
		</div>
	</header>
	<div id="mobile-menu" class="animated fast">
		<ul>
			<li><a href="/networknoob.net/page/about">About</a></li>
			<li><a href="/networknoob.net/post/">Blogs</a></li>
			<li><a href="/networknoob.net/projects">Projects</a></li>
			<li><a href="/networknoob.net/page/contact">Contact</a></li>
			<li><a href="/networknoob.net/tags">tags</a></li>
		</ul>
	</div>


	<main class="site-main section-inner thin animated fadeIn faster">
		<h1>OSPF Virtual Links</h1>
		<div class="content">
			<p>The overall concept of an OSPF virtual link is simple, a virtual connection from one area
to join it to the backbone through another area, when no physical connection to the backbone area exists.</p>
<p>The configuration could be a little confusing, essentially you want to create a link between the router in the
partitioned area (area without the physical connection) and the router within the transit area (connected to the
backbone area).  The command must be executed on both routers in order to bring up the virtual link.</p>
<p>Example topology below, R3 in Area 3 has no direct physical connection to the backbone area 0:</p>
<p><img src="/images/ospf_virtual_links_topology.png" alt="basic lab topology"></p>
<p>To create a virtual link, the command must be performed on both the ABR of the partitioned area (R3) that is
connected to the transit area and also the ABR of the transit area (R2) which connects to the partitioned area 3
and also the backbone area.</p>
<p>On R3 specify the target as the router ID of R2:</p>
<pre tabindex="0"><code># area 2 virtual-link 2.2.2.2
</code></pre><p><img src="/images/ospf_virtual_links_R3_config.png" alt="virtual link router config"></p>
<p>On R2 specify the target as the router ID of R3:</p>
<pre tabindex="0"><code># area 2 virtual-link 3.3.3.3
</code></pre><p><img src="/images/ospf_virtual_links_R2_config.png" alt="virtual link router config"></p>
<p>The virtual interface (virtual link) can now be seen on both R2 and R3:</p>
<p>R2 OSPF Interfaces:</p>
<p><img src="/images/ospf_virtual_links_R2_ospf_int_br.png" alt="virtual link interface brief"></p>
<p>R3 OSPF Interfaces:</p>
<p><img src="/images/ospf_virtual_links_R3_ospf_int_br.png" alt="virtual link interface brief"></p>
<p>Once the ospf virtual link is in place, R1 (who was not receiving a route for 3.3.3.3 previously) now
receives a route to loopback0 interface of R3 (3.3.3.3) and this route is seen as an Inter-area route:</p>
<p><img src="/images/ospf_virtual_links_R1_route_table.png" alt="virtual link interface brief"></p>
<p>In general this approach should not be considered a design tool, but instead used a tool to repair a network
partition.</p>

		</div>
	</main>

<footer id="site-footer" class="section-inner thin animated fadeIn faster">
	<p>
		&copy; 2024 <a href="/networknoob.net/"></a>
		&#183; Adam Fitzgerald
		&#183; Made with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a>
		&#183; Theme <a href="https://github.com/1bl4z3r/hermit-V2" target="_blank" rel="noopener">Hermit-V2</a>
		
		&#183; <a href="/networknoob.net/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a>
		
	</p>

</footer>
<script async src="/networknoob.net/js/bundle.min.5034a061023fdc1bbf821910f95d3bda81bc68ba039a2c1202f0d7027638e80f.js" integrity="sha256-UDSgYQI/3Bu/ghkQ+V072oG8aLoDmiwSAvDXAnY46A8=" crossorigin="anonymous"></script><script async src="/networknoob.net/js/link-share.min.20ddc5b895a2cb52c811efd9bcf38168838be5cb8671b12ae2997bf38c34f9f0.js" integrity="sha256-IN3FuJWiy1LIEe/ZvPOBaIOL5cuGcbEq4pl784w0+fA=" crossorigin="anonymous"></script>
</body>

</html>
